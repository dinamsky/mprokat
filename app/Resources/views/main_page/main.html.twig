{% extends 'base.html.twig' %}


{% block stylesheets %}
    {{ parent() }}
    <link href="{{ asset('assets/css/owl.carousel.min.css') }}" rel="stylesheet"/>
    <link href="{{ asset('assets/css/owl.theme.default.css') }}" rel="stylesheet"/>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('assets/js/owl.carousel.min.js') }}"></script>
    <script src="{{ asset('assets/js/mainPage.js') }}"></script>
    <script src="{{ asset('assets/js/sliderSettings.js') }}"></script>
{% endblock %}

{% block content %}

    <div class="standard_wide">

        <div uk-grid>
            {% for card in top3 %}
                <div class="uk-width-1-3">
                    {{ include('search/one_grid_view.html.twig', {'card':card, 'height':'200px'}) }}
                </div>
            {% endfor %}
        </div>

    </div>

    <div id="top_selector_block">
        <div class="standard_wide">
            <h1 class="uk-text-center">Большой выбор транспорта в аренду</h1>
            <div class="uk-margin-auto uk-width-3-4">
                <form uk-grid action="/search" method="GET">
                    <div class="uk-width-1-4 uk-position-relative">


                        <span class="show_address_selector" uk-toggle="target: #address_block">
                            <span class="city_selector">{{ cityId is defined ? city.header : 'Местоположение' }}</span>
                            <i uk-icon="icon:chevron-down"></i></span>

                        <div id="address_block" hidden>
                            <select name="countryCode" id="countryCode" class="uk-select">
                                <option value="0">-выберите страну-</option>
                                {% for country_code, country_title in countries %}
                                    <option value="{{ country_code }}" {{ country_code == countryCode ? 'selected' : '' }}>{{ country_title }}</option>
                                {% endfor %}
                            </select>
                            <select name="regionId" id="regionId" class="uk-select">
                                {{ include( 'common/ajax_edit_options.html.twig', { 'options': regions, 'id': regionId }) }}
                            </select>
                            <select name="cityId" id="cityId" class="uk-select">
                                {{ include( 'common/ajax_edit_options.html.twig', { 'options': cities, 'id': cityId }) }}
                            </select>
                        </div>
                    </div>

                    <div class="uk-width-1-4 uk-position-relative">
                        <span class="show_general_selector" uk-toggle="target: #general_type_block">
                            <span class="general_selector">Тип транспорта</span>
                            <i uk-icon="icon:chevron-down"></i></span>
                        <div id="general_type_block" hidden>
                            <select class="uk-select" name="pgtId" id="generalTypeTopLevelId">
                                <option value="0">- тип транспорта -</option>
                                {% for gt in generalTopLevel %}
                                    <option value="{{ gt.id }}">{{ gt.header }}</option>
                                {% endfor %}
                            </select>
                            <select class="uk-select" name="gtId" id="generalTypeId">
                                <option value="0">- тип -</option>
                            </select>
                        </div>
                    </div>

                    <div class="uk-width-1-4 uk-position-relative">
                        <span class="show_mark_selector" uk-toggle="target: #mark_block">
                            <span class="mark_selector">Марка и модель </span>
                            <i uk-icon="icon:chevron-down"></i></span>
                        <div id="mark_block" hidden>
                            <select class="uk-select" name="groupName" id="markGroupName">
                                <option value="0">-выберите группу-</option>
                                {% for group_name, group_title in mark_groups %}
                                    <option value="{{ group_name }}">{{ group_title }}</option>
                                {% endfor %}
                            </select>
                            <select class="uk-select" name="mark" id="markId"></select>
                            <select class="uk-select" name="modelId" id="markModelId"></select>
                        </div>
                    </div>

                    <div class="uk-width-1-4">
                        <button class="uk-button uk-button-primary uk-width-1-1">Найти</button>
                    </div>
            </div>
            </form>
        </div>
    </div>

    <div class="standard_wide">

        <div class="uk-margin-large">
            <h2>Легковые авто <a class="tx_16 undln" href="/search?pgtId=1&gtId=2">показать все</a></h2>
            <div class="owl-carousel owl-theme uk-width-1-1" data-items="4">
                {% for card in cars %}
                    {{ include('search/one_grid_view.html.twig', {'card':card, 'height':'150px'}) }}
                {% endfor %}
            </div>
        </div>

        <div class="uk-margin-large">
            <h2>Грузовые авто <a class="tx_16 undln" href="/search?pgtId=1&gtId=3">показать все</a></h2>
            <div class="owl-carousel owl-theme uk-width-1-1" data-items="4">
                {% for card in trucks %}
                    {{ include('search/one_grid_view.html.twig', {'card':card, 'height':'150px'}) }}
                {% endfor %}
            </div>
        </div>

        <div class="uk-margin-large">
            <div uk-grid>
                <div class="uk-width-1-2">
                    <h2>Сигвеи <a class="tx_16 undln" href="/search?pgtId=14&gtId=0">показать все</a></h2>
                    <div class="owl-carousel owl-theme uk-width-1-1" data-items="2">
                        {% for card in segways %}
                            {{ include('search/one_grid_view.html.twig', {'card':card, 'height':'150px'}) }}
                        {% endfor %}
                    </div>
                </div>
                <div class="uk-width-1-2">
                    <h2>Велосипеды <a class="tx_16 undln" href="/search?pgtId=15&gtId=0">показать все</a></h2>
                    <div class="owl-carousel owl-theme uk-width-1-1" data-items="2">
                        {% for card in bicycles %}
                            {{ include('search/one_grid_view.html.twig', {'card':card, 'height':'150px'}) }}
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>

        <div class="uk-margin-large">
            <h2>Катера <a class="tx_16 undln" href="/search?pgtId=12&gtId=11">показать все</a></h2>
            <div class="owl-carousel owl-theme uk-width-1-1" data-items="4">
                {% for card in boats %}
                    {{ include('search/one_grid_view.html.twig', {'card':card, 'height':'150px'}) }}
                {% endfor %}
            </div>
        </div>

        <div class="uk-margin-large">
            <h2>Яхты <a class="tx_16 undln" href="/search?pgtId=13&gtId=11">показать все</a></h2>
            <div class="owl-carousel owl-theme uk-width-1-1" data-items="4">
                {% for card in yachts %}
                    {{ include('search/one_grid_view.html.twig', {'card':card, 'height':'150px'}) }}
                {% endfor %}
            </div>
        </div>


    </div>



{% endblock %}